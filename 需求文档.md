# 诗词鉴赏应用需求文档

## 1. 项目概述
本项目是一个基于React和Supabase开发的诗词鉴赏应用，旨在为用户提供诗词查询、赏析的平台，并支持用户注册登录功能。应用将通过Vercel进行自动化部署，使用GitHub进行版本控制。

## 2. 功能模块

### 2.1 用户管理模块
- **注册功能**
  - 支持邮箱注册
  - 密码强度验证
  - 邮箱验证机制
  - 注册信息存储与加密

- **登录功能**
  - 邮箱/密码登录
  - 记住登录状态
  - 密码重置功能
  - 登录状态管理

- **用户信息管理**
  - 查看个人资料
  - 修改密码
  - 注销账户

### 2.2 诗词搜索模块
- **基础搜索**
  - 支持按诗词标题搜索
  - 支持按作者搜索
  - 支持按诗句内容搜索

- **高级搜索**
  - 支持按朝代筛选
  - 支持按诗词类型筛选（诗、词、曲等）
  - 支持按主题筛选（思乡、爱情、边塞等）

- **搜索结果展示**
  - 分页显示搜索结果
  - 结果排序（相关度、时间等）
  - 诗词预览功能

### 2.3 诗词详情模块
- 诗词原文展示
- 诗词注释
- 诗词翻译
- 作者简介
- 诗词赏析
- 相关推荐

## 3. 用户流程

### 3.1 注册登录流程
1. 用户访问应用首页
2. 点击"注册"按钮进入注册页面
3. 填写邮箱、密码等信息并提交
4. 系统发送验证邮件
5. 用户验证邮箱后完成注册
6. 注册成功后自动登录或返回登录页面
7. 用户输入账号密码登录系统
8. 登录成功后跳转至首页或之前访问的页面

### 3.2 诗词搜索流程
1. 用户在搜索框输入关键词（标题、作者或诗句）
2. 点击搜索按钮或按下回车键
3. 系统展示搜索结果列表
4. 用户可选择筛选条件进行高级筛选
5. 用户点击感兴趣的诗词查看详情
6. 在详情页可阅读注释、翻译和赏析内容

## 4. 技术要求

### 4.1 前端技术栈
- **核心框架**：React 18+
- **路由管理**：React Router 6+
- **状态管理**：React Context API 或 Redux Toolkit
- **UI组件库**：可选用Material UI、Ant Design或Chakra UI
- **表单处理**：React Hook Form
- **HTTP客户端**：Axios
- **样式解决方案**：Styled Components 或 Tailwind CSS
- **类型检查**：TypeScript

### 4.2 后端技术栈
- **BaaS平台**：Supabase
  - 数据库：PostgreSQL（通过Supabase管理）
  - 认证：Supabase Auth
  - 存储：Supabase Storage（用于存储诗词相关图片等）
  - API：Supabase REST API 或 GraphQL

### 4.3 开发与部署
- **版本控制**：GitHub
  - 分支管理：采用Git Flow或GitHub Flow工作流
  - 提交规范：遵循Conventional Commits规范
- **部署平台**：Vercel
  - 配置自动化部署流程
  - 配置环境变量管理
  - 启用预览环境功能

### 4.4 性能与兼容性
- 响应式设计，支持桌面端、平板和移动端
- 页面加载时间优化，首屏加载时间<3秒
- 兼容主流浏览器（Chrome、Firefox、Safari、Edge最新版本）

## 5. 界面设计建议

### 5.1 整体风格
- 采用中国传统美学风格，体现诗词文化韵味
- 主色调建议使用淡雅的米色、灰色作为背景，配以深蓝或墨色作为主色调
- 字体选择清晰易读的无衬线字体，诗词展示可选用具有书法感的字体

### 5.2 主要页面设计

#### 5.2.1 首页
- 顶部导航栏：Logo、搜索框、登录/注册按钮（登录后显示用户头像）
- 轮播展示经典诗词或推荐内容
- 分类导航区：按朝代、类型等分类
- 热门诗词推荐区
- 页脚：关于我们、联系方式等

#### 5.2.2 登录/注册页
- 简洁的表单设计
- 清晰的操作指引
- 适当的错误提示
- 跳转链接（登录页有注册链接，注册页有登录链接）

#### 5.2.3 搜索结果页
- 保留顶部搜索框和筛选条件
- 结果列表采用卡片式布局
- 每个卡片显示诗词标题、作者、朝代和部分内容
- 底部分页控件

#### 5.2.4 诗词详情页
- 诗词标题（大字号，突出显示）
- 作者和朝代信息
- 诗词原文（排版美观，适当留白）
- 标签式切换展示注释、翻译和赏析
- 相关推荐区域
- 返回和分享功能

### 5.3 交互设计
- 搜索框实时提示功能
- 平滑的页面过渡动画
- 加载状态显示（可使用与诗词相关的加载动画）
- 响应式布局，在不同设备上有良好表现
- 错误状态的友好提示和解决方案建议

## 6. 数据模型建议（基于Supabase）

### 6.1 用户表（利用Supabase Auth默认表）
- id: UUID（主键）
- email: String
- created_at: Timestamp
- last_sign_in_at: Timestamp

### 6.2 诗词表
- id: UUID（主键）
- title: String（标题）
- content: Text（原文）
- dynasty: String（朝代）
- author_id: UUID（关联作者表）
- type: String（类型：诗、词、曲等）
- themes: Array<String>（主题标签）
- created_at: Timestamp
- updated_at: Timestamp

### 6.3 作者表
- id: UUID（主键）
- name: String（姓名）
- dynasty: String（朝代）
- introduction: Text（简介）
- birth_year: Integer（出生年份）
- death_year: Integer（逝世年份）

### 6.4 赏析表
- id: UUID（主键）
- poem_id: UUID（关联诗词表）
- content: Text（赏析内容）
- source: String（来源）

## 7. 项目里程碑

1. **阶段一：基础搭建（1-2周）**
   - 项目初始化与配置
   - 搭建GitHub仓库与分支管理
   - 配置Vercel自动化部署
   - 初始化Supabase项目与数据模型

2. **阶段二：用户功能开发（1-2周）**
   - 实现注册功能
   - 实现登录与注销功能
   - 实现密码重置功能
   - 用户状态管理

3. **阶段三：诗词搜索功能开发（2-3周）**
   - 实现基础搜索功能
   - 实现高级筛选功能
   - 搜索结果展示优化
   - 诗词详情页开发

4. **阶段四：优化与完善（1-2周）**
   - UI/UX优化
   - 性能优化
   - 兼容性测试
   - Bug修复

5. **阶段五：部署与上线（1周）**
   - 最终测试
   - 部署生产环境
   - 上线前检查
   - 正式发布

通过以上规划，该诗词鉴赏应用将能够为用户提供便捷的诗词查询和赏析体验，同时保证系统的稳定性和可扩展性。